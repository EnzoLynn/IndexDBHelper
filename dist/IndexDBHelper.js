!function(e){function t(a){if(n[a])return n[a].exports;var s=n[a]={exports:{},id:a,loaded:!1};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.messgae=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1),o=a(r),c=function(e){var t=e.success,n=e.msg,a=e.result,s=e.total;return{success:t,msg:n,result:a,total:s}},l=function(){this.localDatabase={},this.localDatabase.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.localDatabase.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.localDatabase.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction,this.localDatabase.indexedDB.onerror=function(e){alert("Database error: "+e.target.errorCode)}};l.prototype.openDatabase=function(e,t,n,a){var s=this,r=1;try{n&&(r=n);var o=s.localDatabase.indexedDB.open(e,r);o.onerror=function(e){a&&a(new c({success:!1,msg:"Database error: "+e.target.errorCode,result:null}))},o.onsuccess=function(e){s.localDatabase.db=e.target.result,a&&a(new c({success:!0,msg:"createObjectStore success",result:null}))},o.onupgradeneeded=function(e){s.localDatabase.db=e.target.result,s.createObjectStore(t,!1,!1,function(){a&&a(new c({success:!0,msg:"upgradeneeded success",result:null}))})}}catch(e){a&&a(new c({success:!1,msg:e,result:null}))}},l.prototype.distoryDatabase=function(e,t){try{var n=this,a=n.localDatabase.indexedDB.deleteDatabase(e);a.onsuccess=function(e){t&&t(new c({success:!0,msg:"Database deleted",result:null})),a.onerror=function(e){t&&t(new c({success:!1,msg:"Database error: "+e.target.errorCode,result:null}))}}}catch(e){t&&t(new c({success:!1,msg:e,result:null}))}},l.prototype.createObjectStore=function(e,t,n,a){try{var s=this,r={keyPath:"id",autoIncrement:!0},l=(0,o.default)(r,t||{}),u=s.localDatabase.db.createObjectStore(e,l);if(n)for(var i=0;i<n.length;i++){var f=n[i];u.createIndex(f.name,f.feild,{unique:f.unique})}u.onsuccess=function(e){a&&a(new c({success:!0,msg:"ok",result:null}))}}catch(e){a&&a(new c({success:!1,msg:e,result:null}))}},l.prototype.find=function(e,t,n,a,r){"function"==typeof t?(r=t,t=null,n=null,a=null):"function"==typeof n?(r=n,n=null,a=null):"function"==typeof a&&(r=a,a=null);try{var o=this,l=o.localDatabase.db.transaction(e,"readwrite"),u=l.objectStore(e);if(null!=o.localDatabase&&null!=o.localDatabase.db){var u=o.localDatabase.db.transaction(e).objectStore(e),i=u.openCursor(),f=[],d=[];i.onsuccess=function(e){var o=e.target.result;if(o){var l=o.value;f.push(l),o.continue()}else{if(t)for(var u=0;u<f.length;u++)for(var i in t){var b=f[u][i];if("object"==s(t[i])){var p=t[i];if("date"==p.type){var g=new Date(p.value),w=new Date(b);if(!(w>=g)){delete f[u];break}}else if(n){if(b.indexOf(t[i])==-1){delete f[u];break}}else if(t[i]!=b){delete f[u];break}}else if(n){if(b.indexOf(t[i])==-1){delete f[u];break}}else if(t[i]!=b){delete f[u];break}}for(var D=0;D<f.length;D++)f[D]&&d.push(f[D]);a&&d.length>a&&d.splice(a-1,d.length-a),r&&r(new c({success:!0,total:f.length,msg:"find success",result:f}))}}}}catch(e){r&&r(new c({success:!1,msg:e,result:null}))}},l.prototype.getById=function(e,t,n){try{var a=this,s=a.localDatabase.db.transaction(e,"readwrite"),r=s.objectStore(e);null!=a.localDatabase&&null!=a.localDatabase.db&&(r.get(t).onsuccess=function(e){n&&n(new c({success:!0,msg:"ok",result:e.target.result}))})}catch(e){n&&n(new c({success:!1,msg:e,result:null}))}},l.prototype.add=function(e,t,n){try{var a=this,s=a.localDatabase.db.transaction(e,"readwrite"),r=s.objectStore(e);if(null!=a.localDatabase&&null!=a.localDatabase.db)for(var o=0;o<t.length;o++){var l=t[o],u=r.add(l);u.onsuccess=function(e){n&&n(new c({success:!0,msg:"ok",result:null}))},u.onerror=function(e){n&&n(new c({success:!1,msg:e,result:null}))}}}catch(e){n&&n(new c({success:!1,msg:e,result:null}))}},l.prototype.deleteById=function(e,t,n){try{var a=this;if(null!=a.localDatabase&&null!=a.localDatabase.db){var s=a.localDatabase.db.transaction(e,"readwrite").objectStore(e);s.delete(t).onsuccess=function(e){n&&n(new c({success:!0,msg:"ok",result:null}))}}}catch(e){n&&n(new c({success:!1,msg:e,result:null}))}},l.prototype.clear=function(e,t){try{if(null!=me.localDatabase&&null!=me.localDatabase.db){var n=me.localDatabase.db.transaction(e,"readwrite").objectStore(e);n.clear().onsuccess=function(n){t&&t(new c({success:!0,msg:e+" object store cleared",result:null}))}}}catch(e){t&&t(new c({success:!1,msg:e,result:null}))}},l.prototype.updateById=function(e,t,n,a){try{var s=this,r=s.localDatabase.db.transaction(e,"readwrite"),o=r.objectStore(e),l=void 0;null!=s.localDatabase&&null!=s.localDatabase.db&&(o.get(t).onsuccess=function(t){l=t.target.result;for(var s in n)(l[s]||""==l[s])&&(l[s]=n[s]);var r=o.put(l);r.onsuccess=function(t){if(a){var n=[];n.push(l),a(new c({success:!0,msg:e+" store  "+JSON.stringify(l)+"  update",result:n}))}},r.onerror=function(e){a&&a(new c({success:!1,msg:e,result:null}))}})}catch(e){a&&a(new c({success:!1,msg:e,result:null}))}},t.messgae=messgae,t.default=l},function(e,t,n){(function(e){!function(t){function n(e,t){if("object"!==s(e))return t;for(var a in t)"object"===s(e[a])&&"object"===s(t[a])?e[a]=n(e[a],t[a]):e[a]=t[a];return e}function a(e,t,a){var o=a[0],c=a.length;(e||"object"!==s(o))&&(o={});for(var l=0;l<c;++l){var u=a[l],i=s(u);if("object"===i)for(var f in u){var d=e?r.clone(u[f]):u[f];t?o[f]=n(o[f],d):o[f]=d}}return o}function s(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var r=function(e){return a(e===!0,!1,arguments)},o="merge";r.recursive=function(e){return a(e===!0,!0,arguments)},r.clone=function(e){var t,n,a=e,o=s(e);if("array"===o)for(a=[],n=e.length,t=0;t<n;++t)a[t]=r.clone(e[t]);else if("object"===o){a={};for(t in e)a[t]=r.clone(e[t])}return a},t?e.exports=r:window[o]=r}("object"==typeof e&&e&&"object"==typeof e.exports&&e.exports)}).call(t,n(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);